[{"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\App.js":"1","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\index.js":"2","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\login\\Login.js":"3","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\categories\\Categories.js":"4","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\organims\\header\\Header.js":"5","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\routines\\Routines.js":"6","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\pictograms\\Pictograms.js":"7","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\home\\Home.js":"8","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\reportWebVitals.js":"9","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\atoms\\input\\Input.js":"10","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\molecules\\card\\Card.js":"11","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\molecules\\modal\\Modal.js":"12","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\store.js":"13","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\rootReducer.js":"14","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\categories.js":"15","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\pictograms.js":"16","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\users.js":"17","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\routines.js":"18","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\actions\\users.js":"19","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\constants\\categories.js":"20","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\constants\\users.js":"21","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\constants\\pictograms.js":"22","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\constants\\routines.js":"23","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\actions\\categories.js":"24","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\configs\\axios.js":"25","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\configs\\navigation.js":"26","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\molecules\\table\\Table.js":"27","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\atoms\\spinner\\Spinner.js":"28","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\actions\\pictograms.js":"29","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\molecules\\paginator\\Paginator.js":"30","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\atoms\\select\\Select.js":"31","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\new-routine\\NewRoutine.js":"32","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\organims\\pictogram\\Pictogram.js":"33","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\actions\\routines.js":"34"},{"size":977,"mtime":1611676725355,"results":"35","hashOfConfig":"36"},{"size":589,"mtime":1611113017222,"results":"37","hashOfConfig":"36"},{"size":1622,"mtime":1617118163025,"results":"38","hashOfConfig":"36"},{"size":5864,"mtime":1611971694065,"results":"39","hashOfConfig":"36"},{"size":744,"mtime":1611188858114,"results":"40","hashOfConfig":"36"},{"size":3657,"mtime":1617063819130,"results":"41","hashOfConfig":"36"},{"size":8198,"mtime":1616891094968,"results":"42","hashOfConfig":"36"},{"size":135,"mtime":1610667384890,"results":"43","hashOfConfig":"44"},{"size":375,"mtime":1610601800611,"results":"45","hashOfConfig":"36"},{"size":455,"mtime":1611201453621,"results":"46","hashOfConfig":"36"},{"size":407,"mtime":1611715718580,"results":"47","hashOfConfig":"36"},{"size":401,"mtime":1611100974401,"results":"48","hashOfConfig":"36"},{"size":341,"mtime":1569079506028,"results":"49","hashOfConfig":"36"},{"size":420,"mtime":1611380594983,"results":"50","hashOfConfig":"36"},{"size":2483,"mtime":1611971063358,"results":"51","hashOfConfig":"36"},{"size":3106,"mtime":1616903163978,"results":"52","hashOfConfig":"36"},{"size":1289,"mtime":1611102244013,"results":"53","hashOfConfig":"36"},{"size":2278,"mtime":1611982046361,"results":"54","hashOfConfig":"36"},{"size":1371,"mtime":1616891249772,"results":"55","hashOfConfig":"36"},{"size":585,"mtime":1611370559027,"results":"56","hashOfConfig":"36"},{"size":275,"mtime":1571687652337,"results":"57","hashOfConfig":"36"},{"size":674,"mtime":1611966108625,"results":"58","hashOfConfig":"36"},{"size":557,"mtime":1611981878758,"results":"59","hashOfConfig":"36"},{"size":3492,"mtime":1611380537955,"results":"60","hashOfConfig":"36"},{"size":245,"mtime":1611356006555,"results":"61","hashOfConfig":"36"},{"size":268,"mtime":1611358683982,"results":"62","hashOfConfig":"36"},{"size":451,"mtime":1611194781637,"results":"63","hashOfConfig":"36"},{"size":261,"mtime":1611194254155,"results":"64","hashOfConfig":"36"},{"size":4485,"mtime":1616903501480,"results":"65","hashOfConfig":"36"},{"size":1241,"mtime":1611358777934,"results":"66","hashOfConfig":"36"},{"size":435,"mtime":1617063993978,"results":"67","hashOfConfig":"36"},{"size":8174,"mtime":1617063949555,"results":"68","hashOfConfig":"36"},{"size":417,"mtime":1611965362521,"results":"69","hashOfConfig":"36"},{"size":4533,"mtime":1617063779956,"results":"70","hashOfConfig":"36"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},"opp80x",{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"73"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"73"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"73"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"i4tvk5",{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"73"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"73"},"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\App.js",[],["145","146"],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\index.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\login\\Login.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\categories\\Categories.js",["147"],"import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getCategories, addCategory, deleteCategory, updateCategory } from '../../redux/actions/categories';\r\nimport Input from '../../components/atoms/input/Input';\r\nimport Spinner from '../../components/atoms/spinner/Spinner';\r\nimport Modal from '../../components/molecules/modal/Modal';\r\nimport Header from '../../components/organims/header/Header';\r\nimport Paginator from '../../components/molecules/paginator/Paginator';\r\nimport Table from '../../components/molecules/table/Table';\r\n\r\nexport default function Categories() {\r\n\r\n    const [ modal, setModal ] = useState(false); \r\n    const [ category, setCategory ] = useState({ description: '' });\r\n    const [ isUpdate, setIsUpdate ] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n    const { user } = useSelector(state => state.users);\r\n    const { categories,\r\n            changed, \r\n            previousPage,\r\n            currentPage,\r\n            totalPage,\r\n            nextPage,\r\n            loadingCategories } = useSelector(state => state.categories)\r\n    \r\n    useEffect(() => {\r\n        dispatch(getCategories(user));\r\n    }, [dispatch, user]);\r\n\r\n    useEffect(() => {\r\n        changed && dispatch(getCategories(user));\r\n    }, [changed]);\r\n\r\n    const categoriesHeadTable = ['id', 'Descriptión', '', '']\r\n\r\n    const categoriesRow = categories.map( categoryItem => {\r\n        return (\r\n            <tr key={ categoryItem.id }>\r\n                <th scope='row'>{ categoryItem.id }</th>\r\n                <td>{ categoryItem.attributes.description}</td>\r\n                <td>\r\n                    <i onClick={() => updateCategoryButton(categoryItem)} className='bi bi-pencil-square'></i>\r\n                </td>\r\n                <td>\r\n                    <i onClick={() => deleteCategoryButton(categoryItem.id)} className='bi bi-trash-fill'></i>\r\n                </td>\r\n            </tr>\r\n        )\r\n    });\r\n\r\n    const openModal = () => {\r\n        setCategory({});\r\n        setIsUpdate(false);\r\n        setModal(true)\r\n    }\r\n\r\n    const createCategory = () => {\r\n        isUpdate ? dispatch(updateCategory(category, user)) : dispatch(addCategory(category, user))\r\n        setModal(false);\r\n    }\r\n\r\n    const updateCategoryButton = (categoryToUpdate) =>{\r\n        setIsUpdate(true);\r\n        setCategory(categoryToUpdate)\r\n        setModal(true);\r\n    };\r\n\r\n    const deleteCategoryButton = (id) => {\r\n        dispatch(deleteCategory(id, user));\r\n    }\r\n\r\n    const goToPreviousPage = () => {\r\n        dispatch(getCategories(user, currentPage - 1));\r\n    }\r\n\r\n    const goToSpecificPage = (index) => {\r\n        dispatch(getCategories(user, index));\r\n    }\r\n\r\n    const goToNextPage = () => {\r\n        dispatch(getCategories(user, currentPage + 1));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            {\r\n                modal && (\r\n                    <Modal>\r\n                        <h3>Ingrese el nombre de la categoría:</h3>\r\n                        <Input \r\n                            label='Categoría' \r\n                            type='text' \r\n                            placeholer='Ingrese aqui su categoría...' \r\n                            value={category.attributes !== undefined ? category.attributes.description : ''}\r\n                            onChange={ e => setCategory({ ...category, attributes: { description : e.target.value} })} />\r\n                        <div style={{display:'flex', flexDirection:'row', justifyContent:'space-around'}}>\r\n                            <button onClick={ () => setModal(false) } Name='btn btn-danger'>Cancelar</button>\r\n                            <button onClick={createCategory} className='btn btn-primary'>\r\n                                { \r\n                                    loadingCategories ?\r\n                                        <Spinner type='light' />\r\n                                        :\r\n                                        <span>{ isUpdate ? 'Actualizar' : 'Agregar'}</span>\r\n                                }\r\n                            </button>\r\n                        </div>\r\n                    </Modal>    \r\n                )\r\n            }                \r\n            <div className='container'>\r\n                <h1 className= 'mb-4'>Categorias</h1>\r\n                <div className='w-100 d-flex flex-row justify-content-end'>\r\n                    <button onClick={openModal} className='btn btn-primary mb-4'>Agregar Categoría</button>\r\n                </div>\r\n                {\r\n                    loadingCategories ?\r\n                        <div className='d-flex flex-row'>\r\n                            <Spinner />\r\n                            <h3 className='px-3'>Cargando...</h3>\r\n                        </div>\r\n                        :\r\n                        categories.length > 0 ?\r\n                            (\r\n                                <>\r\n                                    <Table thead={categoriesHeadTable} tbody={categoriesRow} />\r\n                                    <Paginator \r\n                                        previousPage={previousPage}\r\n                                        currentPage={currentPage}\r\n                                        totalPage={totalPage}\r\n                                        nextPage={nextPage}\r\n                                        goToPreviousPage={goToPreviousPage}\r\n                                        goToNextPage={goToNextPage}\r\n                                        goToSpecificPage={goToSpecificPage}\r\n                                    />\r\n                                </>\r\n                            )\r\n                            :\r\n                            <h3>No hay categorias registradas</h3>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\organims\\header\\Header.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\routines\\Routines.js",["148"],"import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { getRoutines, deleteRoutine } from '../../redux/actions/routines';\r\nimport Pictogram from '../../components/organims/pictogram/Pictogram';\r\nimport Header from '../../components/organims/header/Header';\r\n\r\nexport default function Routines() {\r\n\r\n    const history = useHistory();\r\n\r\n    const dispatch = useDispatch();\r\n    const { user } = useSelector(state => state.users)\r\n    const { routines } = useSelector(state => state.routines)\r\n\r\n    useEffect(() => {\r\n        dispatch(getRoutines(user))\r\n    }, [dispatch]);\r\n\r\n    const updateRoutine = routine => {\r\n        history.push({\r\n            pathname: '/new-routine',\r\n            state: {\r\n                routine\r\n            }\r\n        })\r\n    }\r\n\r\n    const pictogramImage = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTgiqiPQ9I_JWbO3G9OlfDjlVdcjbK05VtIMg&usqp=CAU';\r\n    const routinesList = routines.map( routine => {\r\n        return (\r\n            <div key={routine.id} className='row align-items-center mb-5'>\r\n                <div className='col-10'>\r\n                    <div className='d-flex flex-column'> \r\n                        <div className=\"d-flex flex-row align-items-center mb-3 \">   \r\n                            <i className='bi bi-circle-fill' style={{ fontSize: '1.5rem'}}></i>\r\n                            <h3 className='mx-3 mb-0'>{ routine.description }</h3>\r\n                        </div>                   \r\n                        <div className=\"d-flex flex-row align-items-center \">\r\n                            {\r\n                                routine.pictograms.map( pictogram => {\r\n                                    return (\r\n                                        <Pictogram width='15%' key={pictogram.id} img={pictogram.attributes.image_url ? `${process.env.REACT_APP_API_URL}${pictogram.attributes.image_url}` : pictogramImage} description={ pictogram.attributes.description } />\r\n                                    );\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='col-2'>\r\n                    <div className='d-flex flex-row justify-content-around align-items-center'>\r\n                        <i \r\n                            className='bi bi-pencil-square d-none'\r\n                            style={{ fontSize: '1.5rem'}}\r\n                            onClick={() => updateRoutine(routine)} \r\n                            >\r\n                        </i>\r\n                        <i \r\n                            className='bi bi-trash-fill'\r\n                            style={{ fontSize: '1.5rem'}}\r\n                            onClick={() => dispatch(deleteRoutine(routine, user))} \r\n                            >\r\n                        </i>\r\n                    </div>\r\n                </div>\r\n            </div> \r\n        );\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className='container'>\r\n                <h1 className= 'mb-4'>Rutinas</h1>\r\n                <div className='w-100 d-flex flex-row justify-content-end mb-4'>\r\n                    <Link to='/new-routine' className='btn btn-primary'>Agregar Rutina</Link>\r\n                </div>\r\n                { \r\n                    routines.length > 0 ?\r\n                        routinesList\r\n                        :\r\n                        <h3>No hay rutinas cargadas</h3>\r\n                }              \r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\pictograms\\Pictograms.js",["149","150"],"import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getCategories } from '../../redux/actions/categories';\r\nimport { getPictograms, addPictogram, deletePictogram, updatePictogram } from '../../redux/actions/pictograms';\r\nimport Input from '../../components/atoms/input/Input';\r\nimport Spinner from '../../components/atoms/spinner/Spinner';\r\nimport Select from '../../components/atoms/select/Select';\r\nimport Modal from '../../components/molecules/modal/Modal';\r\nimport Header from '../../components/organims/header/Header';\r\nimport Paginator from '../../components/molecules/paginator/Paginator';\r\nimport Table from '../../components/molecules/table/Table'\r\n\r\nexport default function Pictograms() {\r\n\r\n    const [ modal, setModal ] = useState(false); \r\n    const [ pictogram, setPictogram ] = useState({});\r\n    const [ isUpdate, setIsUpdate ] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n    const { user } = useSelector(state => state.users);\r\n    const { categories } = useSelector(state => state.categories)\r\n    const { pictograms,\r\n        changed, \r\n        previousPage,\r\n        currentPage,\r\n        totalPage,\r\n        nextPage,\r\n        loadingPictograms } = useSelector(state => state.pictograms)\r\n\r\n    useEffect(() => {\r\n        dispatch(getCategories(user,1, 999));\r\n    }, [dispatch, user]);\r\n        \r\n    \r\n    useEffect(() => {\r\n        dispatch(getPictograms(user));\r\n    }, [dispatch, user]);\r\n\r\n    useEffect(() => {\r\n        changed && dispatch(getPictograms(user));\r\n    }, [changed]);\r\n    \r\n    const pictogramsHeadTable = ['id', 'Imagen', 'Descriptión', 'Categoría' ,'', '']\r\n    const pictogramImage = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTgiqiPQ9I_JWbO3G9OlfDjlVdcjbK05VtIMg&usqp=CAU';\r\n    const pictogramsRow = pictograms.map( pictogramItem => {\r\n        const category = categories.filter( category => category.id === pictogramItem.relationships.classifiable.data.id);\r\n        if (category.length > 0) {\r\n            return (\r\n                <tr key={ pictogramItem.id }>\r\n                    <th scope='row' style={{ verticalAlign: 'middle' }}>{ pictogramItem.id }</th>\r\n                    <td style={{ width: 150, height: 150, textAlign: 'center', verticalAlign: 'middle' }}>\r\n                        <img alt={ pictogramItem.attributes.description } \r\n                             src={pictogramItem.attributes.image_url ? `${process.env.REACT_APP_API_URL}${pictogramItem.attributes.image_url}` : pictogramImage}  \r\n                             style={{ maxHeight: '100%', maxWidth: '100%', padding: 5}}/>\r\n                    </td>\r\n                    <td style={{ verticalAlign: 'middle' }}>{ pictogramItem.attributes.description }</td>\r\n                    <td style={{ verticalAlign: 'middle' }}>{ category[0].attributes.description }</td>\r\n                    <td style={{ verticalAlign: 'middle' }}>\r\n                        <i onClick={() => updatePictogramButton(pictogramItem)} className='bi bi-pencil-square'></i>\r\n                    </td>\r\n                    <td style={{ verticalAlign: 'middle' }}>\r\n                        <i onClick={() => deletePictogramButton(pictogramItem.id)} className='bi bi-trash-fill'></i>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n    });\r\n\r\n    const categoryOptions = categories.map( category => {\r\n        return (\r\n            <option \r\n                key={ category.id } \r\n                value={ category.id } \r\n                selected={ pictogram.relationships !== undefined && category.id === pictogram.relationships.classifiable.data.id }\r\n                >\r\n                {category.attributes.description}\r\n            </option>\r\n        )\r\n    })\r\n\r\n    const selectCategory = category => {\r\n        setPictogram({ ...pictogram, relationships: { classifiable: { data: { id : category } } } })\r\n    }\r\n\r\n    const openModal = () => {\r\n        setPictogram({});\r\n        setIsUpdate(false);\r\n        setModal(true)\r\n    }\r\n\r\n    const createpictogram = () => {\r\n        isUpdate ? dispatch(updatePictogram(pictogram, user)) : dispatch(addPictogram(pictogram, user))\r\n        setModal(false);\r\n    }\r\n\r\n    const updatePictogramButton = (pictogramToUpdate) =>{\r\n        setIsUpdate(true);\r\n        setPictogram(pictogramToUpdate)\r\n        setModal(true);\r\n    };\r\n\r\n    const deletePictogramButton = (id) => {\r\n        dispatch(deletePictogram(id, user));\r\n    }\r\n\r\n    const goToPreviousPage = () => {\r\n        dispatch(getPictograms(user, currentPage - 1));\r\n    }\r\n\r\n    const goToSpecificPage = (index) => {\r\n        dispatch(getPictograms(user, index));\r\n    }\r\n\r\n    const goToNextPage = () => {\r\n        dispatch(getPictograms(user, currentPage + 1));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            {\r\n                modal && (\r\n                    <Modal>\r\n                        <h3>Ingrese un pictograma:</h3>\r\n                        <Input \r\n                            label='Descripción' \r\n                            type='text' \r\n                            placeholer='Ingrese aqui su categoria...' \r\n                            value={pictogram.attributes !== undefined ? pictogram.attributes.description : ''}\r\n                            onChange={ e => setPictogram({ ...pictogram, attributes: { description : e.target.value} })} />\r\n                        <Select\r\n                            label='Categoría'\r\n                            options={categoryOptions}\r\n                            selected={pictogram.relationships !== undefined ? pictogram.relationships.classifiable.data.id : 0}\r\n                            onChange={ e => selectCategory(e.target.value)}\r\n                            />\r\n                        <div style={{display:'flex', flexDirection:'row', justifyContent:'space-around'}}>\r\n                            <button onClick={ () => setModal(false) } className='btn btn-danger mb-4'>Cancelar</button>\r\n                            <button onClick={createpictogram} className='btn btn-primary mb-4'>\r\n                                { \r\n                                    loadingPictograms ?\r\n                                        <Spinner type='light' />\r\n                                        :\r\n                                        <span>{ isUpdate ? 'Actualizar' : 'Agregar'}</span>\r\n                                }\r\n                            </button>\r\n                        </div>\r\n                    </Modal>    \r\n                )\r\n            }                \r\n            <div className='container'>\r\n                <h1 className= 'mb-4'>Pictogramas</h1>\r\n                <div className='w-100 d-flex flex-row justify-content-end'>\r\n                    <button onClick={openModal} className='btn btn-primary mb-4'>Agregar Pictograma</button>\r\n                </div>\r\n                {\r\n                    loadingPictograms ?\r\n                        <div className='d-flex flex-row'>\r\n                            <Spinner />\r\n                            <h3 className='px-3'>Cargando...</h3>\r\n                        </div>\r\n                        :\r\n                        pictograms.length > 0 ?\r\n                            (\r\n                                <>\r\n                                    <Table thead={pictogramsHeadTable} tbody={pictogramsRow} />\r\n                                    <Paginator \r\n                                        previousPage={previousPage}\r\n                                        currentPage={currentPage}\r\n                                        totalPage={totalPage}\r\n                                        nextPage={nextPage}\r\n                                        goToPreviousPage={goToPreviousPage}\r\n                                        goToNextPage={goToNextPage}\r\n                                        goToSpecificPage={goToSpecificPage}\r\n                                    />\r\n                                </>\r\n                            )\r\n                            :\r\n                            <h3>No hay pictogramas registrados</h3>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\home\\Home.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\reportWebVitals.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\atoms\\input\\Input.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\molecules\\card\\Card.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\molecules\\modal\\Modal.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\store.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\rootReducer.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\categories.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\pictograms.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\users.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\reducers\\routines.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\actions\\users.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\constants\\categories.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\constants\\users.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\constants\\pictograms.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\constants\\routines.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\actions\\categories.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\configs\\axios.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\configs\\navigation.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\molecules\\table\\Table.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\atoms\\spinner\\Spinner.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\actions\\pictograms.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\molecules\\paginator\\Paginator.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\atoms\\select\\Select.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\pages\\new-routine\\NewRoutine.js",["151","152"],"import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, Redirect, useLocation } from 'react-router-dom';\r\nimport { getCategories } from '../../redux/actions/categories';\r\nimport { getPictograms, filterPictogramsByCategory } from '../../redux/actions/pictograms';\r\nimport { addRoutine, updateRoutine } from '../../redux/actions/routines';\r\nimport Input from '../../components/atoms/input/Input'\r\nimport Spinner from '../../components/atoms/spinner/Spinner';\r\nimport Select from '../../components/atoms/select/Select';\r\nimport Pictogram from '../../components/organims/pictogram/Pictogram'\r\nimport Header from '../../components/organims/header/Header';\r\n\r\nexport default function NewRoutine() {\r\n\r\n    const [ idRoutine, setIdRoutine ] = useState(0);\r\n    const [ phrase, setPhrase ] = useState([]);\r\n    const [ description, setDescription ] = useState('');\r\n    const [ categoryId, setCategoryId ] = useState(0);\r\n    const [ isUpdate, setIsUpdate ] = useState(false);\r\n\r\n    const location = useLocation()\r\n    const dispatch = useDispatch();\r\n    const { user } = useSelector(state => state.users);\r\n    const { categories, loadingCategories } = useSelector(state => state.categories)\r\n    const { filteredPictograms, loadingPictograms } = useSelector(state => state.pictograms)\r\n    const { changed, lastId } = useSelector(state => state.routines)\r\n\r\n    useEffect(() => {\r\n        dispatch(getCategories(user,1, 999));\r\n    }, [dispatch, user]);\r\n\r\n    useEffect(() => {\r\n        dispatch(filterPictogramsByCategory(1, user));\r\n    }, [dispatch, user]);\r\n\r\n    useEffect(() => {\r\n        if (location.state !== undefined) {\r\n            setIsUpdate(true);\r\n            setIdRoutine(location.state.routine.id);\r\n            setDescription(location.state.routine.description);\r\n            setPhrase(location.state.routine.phrase);\r\n        } else {\r\n            setIsUpdate(false);\r\n            setIdRoutine(lastId)\r\n            setDescription('');\r\n            setPhrase([]);\r\n        }\r\n    }, [location, lastId]);\r\n\r\n    const categoryOptions = categories.map( category => {\r\n        return (\r\n            <option \r\n                key={ category.id } \r\n                value={ category.id } \r\n                selected={ category.id === categoryId }\r\n                >\r\n                {category.attributes.description}\r\n            </option>\r\n        )\r\n    })\r\n\r\n    const searchPictogramsFromCategory = idCategory => {\r\n        setCategoryId(idCategory);\r\n        dispatch(filterPictogramsByCategory(idCategory, user));\r\n    }\r\n\r\n    const pictogramImage = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTgiqiPQ9I_JWbO3G9OlfDjlVdcjbK05VtIMg&usqp=CAU';\r\n    const pictogramsCard = filteredPictograms && filteredPictograms.map(pictogram => {\r\n        return (\r\n            <Pictogram width='200px' onClick={ () => addPictogramToPhrase(pictogram)} key={pictogram.id} img={pictogram.attributes.image_url ? `${process.env.REACT_APP_API_URL}${pictogram.attributes.image_url}` : pictogramImage} description={ pictogram.attributes.description } />\r\n        )\r\n    })\r\n\r\n    const phraseCards = phrase.map( pictogram => {\r\n        return (\r\n            <Pictogram width='200px' onClick={ () => removePictogramToPhrase(pictogram)} key={pictogram.id} img={pictogram.attributes.image_url ? `${process.env.REACT_APP_API_URL}${pictogram.attributes.image_url}` : pictogramImage} description={ pictogram.attributes.description } />\r\n        )\r\n    }) \r\n\r\n    const addPictogramToPhrase = pictogram => {\r\n        setPhrase([ ...phrase, pictogram ])\r\n    }\r\n\r\n    const removePictogramToPhrase = pictogramToRemove => {\r\n        setPhrase(phrase.filter( pictogram => pictogram.id !== pictogramToRemove.id))\r\n    }\r\n\r\n    const addOrEditRoutine = () => {\r\n        const routine = {\r\n            description,\r\n            pictograms: phrase\r\n        }\r\n        isUpdate ? dispatch(updateRoutine(routine)) : dispatch(addRoutine(routine, user));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className='container'>\r\n                <h1 className='mb-5'>Armado de Rutinas:</h1>\r\n                <Input \r\n                    label='Descripción' \r\n                    type='text' placeholer='Ingrese aqui su descripción...' \r\n                    value={ description }\r\n                    onChange={ e => setDescription(e.target.value)} \r\n                    />\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 mb-5\">\r\n                        <label className='form-label mb-3'>Rutina:</label>\r\n                        <div className=\"py-3 d-flex flex-row flex-wrap border border-2 border-info rounded-2\">\r\n                            {\r\n                                phrase.length > 0 ?\r\n                                    <>\r\n                                        { phraseCards }\r\n                                    </>\r\n                                    :\r\n                                    <span className='m-2 text-muted'>Ingrese aqui sus pictogramas...</span>        \r\n                            } \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row align-items-center\">\r\n                    <div className=\"col-8 mb-4\">\r\n                        {\r\n                            loadingCategories ?\r\n                                <div className='d-flex flex-row'>\r\n                                    <Spinner />\r\n                                    <h3 className='px-3'>Cargando...</h3>\r\n                                </div>\r\n                                :\r\n                                <Select\r\n                                    label='Categorías'\r\n                                    options={categoryOptions}\r\n                                    selected={categoryId}\r\n                                    onChange={ e => searchPictogramsFromCategory(e.target.value)}\r\n                                    />                \r\n                        } \r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 mb-5\">\r\n                        {\r\n                            loadingPictograms ? \r\n                                <div className='d-flex flex-row'>\r\n                                    <Spinner />\r\n                                    <h3 className='px-3'>Cargando...</h3>\r\n                                </div>\r\n                                :\r\n                                <>\r\n                                    <label className='form-label mb-3'>Pictogramas: </label>\r\n                                    <div style={{ height: 300 }} className=\"py-3 d-flex flex-row flex-wrap overflow-auto border border-3 border-dark rounded-2\">\r\n                                        {\r\n                                            filteredPictograms.length > 0 ?\r\n                                                <>\r\n                                                    { pictogramsCard }\r\n                                                </>\r\n                                                :\r\n                                                <h3>No hay resultados</h3>        \r\n                                        } \r\n                                    </div>\r\n                                </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"d-flex justify-content-between w-100\">\r\n                            <Link to='/routines' className='btn btn-danger mb-4'>Cancelar</Link>\r\n                            <button onClick={addOrEditRoutine} className='btn btn-primary mb-4'>\r\n                                { isUpdate ? <span>Actualizar</span> : <span>Agregar</span>  }\r\n                            </button>    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                { changed && <Redirect to='/routines' /> }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\components\\organims\\pictogram\\Pictogram.js",[],"C:\\Users\\nalarcon\\Documents\\projects\\scapa-web\\src\\redux\\actions\\routines.js",["153"],"import {\r\n    FETCH_ROUTINES_PENDING,\r\n    FETCH_ROUTINES_SUCCESS,\r\n    FETCH_ROUTINES_ERROR,    \r\n    ADD_ROUTINE_SUCCESS,\r\n    ADD_ROUTINE_ERROR,\r\n    UPDATE_ROUTINE_SUCCESS,\r\n    UPDATE_ROUTINE_ERROR,\r\n    DELETE_ROUTINE_SUCCESS,\r\n    DELETE_ROUTINE_ERROR\r\n} from '../constants/routines';\r\nimport axiosConfig from '../../configs/axios'\r\n\r\nexport const getRoutines = ({ accessToken, client, uid }) => {\r\n    return async dispatch => {\r\n        dispatch({ type: FETCH_ROUTINES_PENDING})\r\n        const headers = { headers: {\r\n            'access-token': accessToken,\r\n            client,\r\n            uid\r\n        }}\r\n        try {\r\n            const routines = await getPhrasesFromAPI('routines', headers);\r\n            return dispatch({ type: FETCH_ROUTINES_SUCCESS, payload: { routines } })\r\n        } catch (err) {\r\n            console.log(err);\r\n            return dispatch({ type: FETCH_ROUTINES_ERROR, payload: { err } })\r\n        }\r\n    }\r\n}\r\n\r\nexport const getPhrasesFromAPI = async (source, headers) => {\r\n    let phrases = [];\r\n    try {\r\n        const response = await axiosConfig.get(`/admin/${source}`, headers);\r\n        console.log('resp:', response.data)\r\n        const { data } = response.data;\r\n        if(data.length > 0) {\r\n            phrases = await Promise.all(data.map( async phrase => {\r\n                const id = phrase.id;\r\n                const type = phrase.type;\r\n                const description = phrase.attributes.description;\r\n                const pictograms = await getPictogramsFromAPhrase(phrase, headers)\r\n                console.log('pics from phrase: ', pictograms);\r\n                return {\r\n                    id,\r\n                    type,\r\n                    description,\r\n                    pictograms\r\n                }\r\n            }));\r\n        }\r\n        console.log('phrases', phrases);\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n    return phrases\r\n};\r\n\r\nconst getPictogramsFromAPhrase = async (phrase, headers) => {\r\n    let pictograms = []\r\n    try {\r\n        pictograms = await Promise.all(phrase.relationships.pictograms.data.map(async pictogram => {\r\n            const pictogramInPhrase = await getPictogramInPhrase(pictogram.id, headers);\r\n            return pictogramInPhrase\r\n        }))\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n    return pictograms;\r\n}\r\n\r\nconst getPictogramInPhrase = async (id, headers) => {\r\n    let response;\r\n    let pictogram;\r\n    try {\r\n        response = await axiosConfig.get(`/admin/pictograms/${id}`, headers);\r\n        pictogram = response.data.data;\r\n    } catch (error) {\r\n        console.log('err', error)\r\n    }\r\n    return pictogram\r\n}\r\n\r\nexport const addRoutine = (phraseToAdd, { accessToken, client, uid } ) => {\r\n    return async dispatch => {\r\n        dispatch({ type: FETCH_ROUTINES_PENDING})\r\n        const headers = { headers: {\r\n            'access-token': accessToken,\r\n            client,\r\n            uid\r\n        }}\r\n        const phraseRequest = {\r\n            routine: {\r\n              description: phraseToAdd.description,\r\n              pictogram_ids: phraseToAdd.pictograms.map(pictogram => pictogram.id)\r\n            }\r\n        }\r\n        try {\r\n            const response = await axiosConfig.post('/admin/routines', JSON.stringify(phraseRequest), headers);\r\n            const routine = { ...phraseToAdd, id: response.data.data.id, type: response.data.data.type }\r\n            return dispatch({ type: ADD_ROUTINE_SUCCESS, payload: { routine } });\r\n        } catch (err) {\r\n            console.log(err)\r\n            return dispatch({ type: ADD_ROUTINE_ERROR, payload: { err }})\r\n        }\r\n    }\r\n};\r\n\r\nexport const updateRoutine = ( routine ) => {\r\n    return dispatch => {\r\n        dispatch({ type: UPDATE_ROUTINE_SUCCESS, payload: { routine } });\r\n    }\r\n}\r\n\r\nexport const deleteRoutine = ( phraseToDelete, { accessToken, client, uid } ) => {\r\n    return async dispatch => {\r\n        dispatch({ type: FETCH_ROUTINES_PENDING})\r\n        const headers = { headers: {\r\n            'access-token': accessToken,\r\n            client,\r\n            uid\r\n        }}\r\n        try {\r\n            const response = await axiosConfig.delete(`/admin/routines/${phraseToDelete.id}`, headers);\r\n            const routine = response.data.data;\r\n            return dispatch({ type: DELETE_ROUTINE_SUCCESS, payload: { routine } });\r\n        } catch (err) {\r\n            console.log(err)\r\n            return dispatch({ type: DELETE_ROUTINE_ERROR, payload: { err } })\r\n        }\r\n        \r\n    }\r\n}",{"ruleId":"154","replacedBy":"155"},{"ruleId":"156","replacedBy":"157"},{"ruleId":"158","severity":1,"message":"159","line":33,"column":8,"nodeType":"160","endLine":33,"endColumn":17,"suggestions":"161"},{"ruleId":"158","severity":1,"message":"162","line":18,"column":8,"nodeType":"160","endLine":18,"endColumn":18,"suggestions":"163"},{"ruleId":"158","severity":1,"message":"159","line":41,"column":8,"nodeType":"160","endLine":41,"endColumn":17,"suggestions":"164"},{"ruleId":"165","severity":1,"message":"166","line":45,"column":57,"nodeType":"167","messageId":"168","endLine":45,"endColumn":59},{"ruleId":"169","severity":1,"message":"170","line":5,"column":10,"nodeType":"171","messageId":"172","endLine":5,"endColumn":23},{"ruleId":"169","severity":1,"message":"173","line":15,"column":13,"nodeType":"171","messageId":"172","endLine":15,"endColumn":22},{"ruleId":"169","severity":1,"message":"174","line":8,"column":5,"nodeType":"171","messageId":"172","endLine":8,"endColumn":25},"no-native-reassign",["175"],"no-negated-in-lhs",["176"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'user'. Either include them or remove the dependency array.","ArrayExpression",["177"],"React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.",["178"],["179"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-unused-vars","'getPictograms' is defined but never used.","Identifier","unusedVar","'idRoutine' is assigned a value but never used.","'UPDATE_ROUTINE_ERROR' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"180","fix":"181"},{"desc":"182","fix":"183"},{"desc":"180","fix":"184"},"Update the dependencies array to be: [changed, dispatch, user]",{"range":"185","text":"186"},"Update the dependencies array to be: [dispatch, user]",{"range":"187","text":"188"},{"range":"189","text":"186"},[1309,1318],"[changed, dispatch, user]",[662,672],"[dispatch, user]",[1573,1582]]